<!DOCTYPE html>
<html>
  <head>
    <title>CSC 225 Lab#5</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="#">Navbar</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNavAltMarkup"
        aria-controls="navbarNavAltMarkup"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
          <a class="nav-item nav-link active" href="index.html"
            >Home <span class="sr-only"></span
          ></a>
          <a class="nav-item nav-link" href="Readme.md">Lab#1</a>
          <a class="nav-item nav-link" href="index.html">Lab#2</a>
          <a class="nav-item nav-link" href="Lab3.html">Lab#3</a>
          <a class="nav-item nav-link" href="Lab4.html">Lab#4</a>
          <a class="nav-item nav-link" href="Lab5.html">Lab#5</a>
        </div>
      </div>
    </nav>

    <div class="jumbotron">
      <h1 class="display-2">Lab 5</h1>
      <h2
        class="lead"
        style="background-color: lightgrey; padding: 10px; border-radius: 10px"
      >
        CyberSecurity Software program
      </h2>
    </div>

    <form class="row g-3 needs-validation" id="registrationForm" novalidate>
      <div class="col-md-4">
        <label for="firstName" class="form-label">First Name</label>
        <input type="text" class="form-control" id="firstName" required />
      </div>
      <div class="col-md-4">
        <label for="lastName" class="form-label">Last Name</label>
        <input type="text" class="form-control" id="lastName" required />
      </div>

      <div class="form-floating mb-3">
        <input
          type="email"
          class="form-control"
          id="email"
          placeholder="name@example.com"
          required
        />
        <label for="email">Email Address</label>
      </div>

      <div class="form-floating mb-3">
        <input
          type="password"
          class="form-control"
          id="password"
          placeholder="Password"
          required
        />
        <label for="password">Password</label>
      </div>

      <div class="col-md-4">
        <label for="dob" class="form-label">Date of Birth</label>
        <input type="date" class="form-control" id="dob" required />
      </div>

      <div class="col-12">
        <button class="btn btn-primary" type="submit">Submit</button>
      </div>
    </form>

    <div id="result" class="hidden mt-4">
      <h2>User information:</h2>
      <p><strong>Name:</strong> <span id="displayName"></span></p>
      <p><strong>Email:</strong> <span id="displayEmail"></span></p>
      <p><strong>Date of Birth:</strong> <span id="displayDob"></span></p>
      <p><strong>Password:</strong> <span id="displayPassword"></span></p>
    </div>

    <script>
      const formElements = [document.getElementById("registrationForm")];

      for (let i = 0; i < formElements.length; i++) {
        formElements[i].addEventListener("submit", function (event) {
          event.preventDefault();

          const user = {
            firstName: document.getElementById("firstName").value.trim(),
            lastName: document.getElementById("lastName").value.trim(),
            email: document.getElementById("email").value.trim(),
            password: document.getElementById("password").value.trim(),
            dob: document.getElementById("dob").value.trim(),
          };

          if (
            !user.firstName ||
            !user.lastName ||
            !user.email ||
            !user.password ||
            !user.dob
          ) {
            alert("Please fill out the following sections before submitting.");
            return;
          }

          let validEmail = false;
          for (let i = 0; i < user.email.length; i++) {
            if (user.email[i] === "@") {
              validEmail = true;
              break;
            }
          }

          if (!validEmail) {
            alert("Email must contain the '@' symbol.");
            return;
          }

          let validPassword = false;
          for (let i = 0; i < user.password.length; i++) {
            if (user.password[i] === "!" || user.password[i] === "?") {
              validPassword = true;
              break;
            }
          }

          if (!validPassword) {
            alert("Password must contain either '!' or '?'");
            return;
          }

          let hiddenpassword = "";
          for (let i = 0; i < user.password.length; i++) {
            hiddenpassword += "*";
          }

          document.getElementById("displayName").textContent =
            user.firstName + " " + user.lastName;
          document.getElementById("displayEmail").textContent = user.email;
          document.getElementById("displayDob").textContent = user.dob;
          document.getElementById("displayPassword").textContent =
            hiddenpassword;

          document.getElementById("result").classList.remove("hidden");

          alert("Form submitted successfully!");
        });
      }
    </script>
  </body>
</html>
